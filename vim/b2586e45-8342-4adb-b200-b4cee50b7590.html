<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Vim 扩展命令行模式 | Janvy's blog</title><meta name="keywords" content="Vim"><meta name="author" content="Janvy Sun"><meta name="copyright" content="Janvy Sun"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="本文介绍 vim 扩展命令行模式的一些用法"><meta property="og:type" content="article"><meta property="og:title" content="Vim 扩展命令行模式"><meta property="og:url" content="https://janvysun.github.io/vim/b2586e45-8342-4adb-b200-b4cee50b7590.html"><meta property="og:site_name" content="Janvy&#39;s blog"><meta property="og:description" content="本文介绍 vim 扩展命令行模式的一些用法"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://janvysun.github.io/images/hexo.png"><meta property="article:published_time" content="2023-03-22T16:00:00.000Z"><meta property="article:modified_time" content="2023-03-22T16:00:00.000Z"><meta property="article:author" content="Janvy Sun"><meta property="article:tag" content="Vim"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://janvysun.github.io/images/hexo.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://janvysun.github.io/vim/b2586e45-8342-4adb-b200-b4cee50b7590"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: [object Object]
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Vim 扩展命令行模式",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-03-23 00:00:00"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">154</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">47</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background:linear-gradient(20deg,#0062be,#925696,#cc426e,#fb0347)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Janvy's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vim 扩展命令行模式</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-03-22T16:00:00.000Z" title="发表于 2023-03-23 00:00:00">2023-03-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-22T16:00:00.000Z" title="更新于 2023-03-23 00:00:00">2023-03-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Software/">Software</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>11分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Vim 扩展命令行模式"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>:bn<br>:bp<br>:bd</p><p>:history 列出历史命令记录<br>:his c 命令行命令历史<br>:his s 搜索命令历史<br>q&#x2F; : 搜索命令历史的窗口<br>q: : 命令行命令历史的窗口<br>:X 加密保存( 要输入密码 )</p><p>:12,24y 表示拷贝第12行到第24行之间的内容.<br>:12,y 表示拷贝第12行到光标所在行之间的内容.<br>:,24y 表示拷贝光标所在行到第24行之间的内容. 删除类似.<br>:&gt; 当前行缩进<br>:12,24&gt; 此命令将12行到14行的数据都向右移动一个 tab.<br>:12,24&gt;&gt; 此命令将12行到14行的数据都向右移动两个 tab.<br>:set shiftwidth&#x3D;4 设置自动缩进 4 个空格, 当然要设自动缩进先.<br>:set sts&#x3D;4 即设置 softtabstop 为 4. 输入 tab 后就跳了 4 格.<br>:set tabstop&#x3D;4 实际的 tab 即为 4 个空格, 而不是缺省的 8 个.<br>:set expandtab 在输入 tab 后, vim 用恰当的空格来填充这个 tab.<br>:g&#x2F;^&#x2F;exec ‘s&#x2F;^&#x2F;‘.strpart(line(‘.’).’ ‘, 0, 4) 在行首插入行号<br>替换文字 2009-02-34 —-&gt; 2009-02-34 00:00:00 :%s&#x2F;(\d{4}-\d{2}-\d{2})&#x2F;\1 00:00:00&#x2F;g<br>:%s&#x2F;^&#x2F;heaser&#x2F; 在每一行头部添加header<br>:%s&#x2F;$&#x2F;ender&#x2F; 在每一行尾部添加ender<br>:s&#x2F;aa&#x2F;bb&#x2F;g 将光标所在行出现的所有包含 aa 的字符串中的 aa 替换为 bb<br>:s&#x2F;/bb&#x2F;g 将光标所在行出现的所有 aa 替换为 bb, 仅替换 aa 这个单词<br>:%s&#x2F;aa&#x2F;bb&#x2F;g 将文档中出现的所有包含 aa 的字符串中的 aa 替换为 bb<br>:12,23s&#x2F;aa&#x2F;bb&#x2F;g 将从12行到23行中出现的所有包含 aa 的字符串中的 aa 替换为 bb<br>:12,23s&#x2F;^&#x2F;#&#x2F; 将从12行到23行的行首加入 # 字符<br>:%s&#x2F;fred&#x2F;joe&#x2F;igc 一个常见的替换命令，修饰符igc和perl中一样意思</p><p>:[range]s&#x2F;{pattern}&#x2F;{str}&#x2F;[flags]<br>:s&#x2F;old&#x2F;new 先更换<br>:s&#x2F;old&#x2F;new&#x2F;g 全部替换<br>:s&#x2F;\vold&#x2F;new&#x2F;g 全部替换为正则表达式<br>:s&#x2F;old&#x2F;new&#x2F;gc 全部替换（确认）<br>:s&#x2F;old&#x2F;new&#x2F;i 先忽略大小写替换<br>:2,6s&#x2F;old&#x2F;new&#x2F;g 在行之间替换2-6<br>#替换文件<br>:%s&#x2F;{pattern}&#x2F;{str}&#x2F;[flags]<br>:%s&#x2F;old&#x2F;new 先更换<br>:%s&#x2F;old&#x2F;new&#x2F;g 全部替换<br>:%s&#x2F;old&#x2F;new&#x2F;gc 全部替换（确认）<br>:%s&#x2F;old&#x2F;new&#x2F;gi 全部替换（忽略大小写）<br>:%s&#x2F;\vold&#x2F;new&#x2F;g 全部替换为正则表达式</p><p>s&#x2F;dick&#x2F;joe&#x2F;igc则 对于这些满足条件的行进行替换<br>:g&#x2F;^\s*$&#x2F;d 空行(空格也不包含)删除.<br>:%s&#x2F;\r&#x2F;&#x2F;g 删除DOS方式的回车^M<br>:%s&#x2F; <em>$&#x2F;&#x2F; 删除行尾空白(%s&#x2F;\s</em>$&#x2F;&#x2F;g)<br>:g!&#x2F;^dd&#x2F;d 删除不含字符串’dd’开头的行<br>:v&#x2F;^dd&#x2F;d 同上,译释：v &#x3D;&#x3D; g!，就是不匹配！<br>:v&#x2F;.&#x2F;.,&#x2F;.&#x2F;-1join 压缩空行(多行空行合并为一行)<br>:g&#x2F;^$&#x2F;,&#x2F;.&#x2F;-j 压缩空行(多行空行合并为一行)<br>:g&#x2F;^&#x2F;pu _ 把文中空行扩增一倍 (pu &#x3D; put),原来两行间有一个空行，现在变成2个<br>:g&#x2F;^&#x2F;m0 按行翻转文章 (m &#x3D; move)<br>:g&#x2F;fred&#x2F;,&#x2F;joe&#x2F;d not line based (very powerfull)<br>:g&#x2F;&lt;input|&lt;form&#x2F;p 或者 要用|<br>:g&#x2F;fred&#x2F;t$ 拷贝行，从fred到文件末尾(EOF)</p><p>:%norm jdd 隔行删除,%指明是对所有行进行操作,norm指出后面是normal模式的指令,j是下移一行，dd是删除行<br>:’a,’bg&#x2F;fred&#x2F;s&#x2F;dick&#x2F;joe&#x2F;igc (‘a,’b指定一个范围：mark a ~ mark b)<br>g&#x2F;&#x2F;用一个正则表达式指出了进行操作的行必须可以被fred匹配,g&#x2F;&#x2F;是一个全局显示命令</p><p>替换所有在第三列中的str1 :%s:((\w+\s+){2})str1:\1str2:<br>交换第一列和最后一列 (共4列) :%s:(\w+)(.*\s+)(\w+)$:\3\2\1:</p><p>全局(global)显示命令，就是用 :g＋正则表达式<br>:g&#x2F;{pattern}&#x2F;{cmd} 就是全局找到匹配的,然后对这些行执行命令{cmd}<br>:g&#x2F;&lt;fred&gt;&#x2F; 显示所有能够为单词fred所匹配的行<br>:g&#x2F;<pattern>&#x2F;z#.5 显示内容，还有行号<br>:g&#x2F;<pattern>&#x2F;z#.5|echo ‘&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;’ 漂亮的显示</pattern></pattern></p><p>搜索<br>&#x2F;foo 向前搜索<br>&#x2F;foo\c 向前搜索（不区分大小写）<br>?foo 向后搜索<br>&#x2F;\v\d+ 使用正则表达式搜索<br>n 下一个匹配的搜索模式<br>N 上一场匹配<br>? &#x2F;：搜索模式(N n)<br>&#x2F;joe&#x2F;e 光标停留在匹配单词最后一个字母处<br>&#x2F;joe&#x2F;e+1 光标停留在匹配单词最后一个字母的下一个字母处<br>&#x2F;joe&#x2F;s 光标停留在匹配单词第一个字母处<br>&#x2F;^joe.*fred.*bill&#x2F; 标准正则表达式<br>&#x2F;^[A-J]+&#x2F; 找一个以A~J中一个字母重复两次或以上开头的行<br>&#x2F;forum(_.)<em>pent 多行匹配<br>&#x2F;fred_s</em>joe&#x2F;i 中间可以有任何空白，包括换行符\n<br>&#x2F;fred|joe 匹配FRED或JOE<br>&#x2F;&lt;fred&gt;&#x2F;i 匹配fred,fred必须是一个独立的单词，而不是子串<br>&#x2F;&lt;\d\d\d\d&gt; 匹配4个数字 &lt;\d{4}&gt; 列，</p><h2 id="多文档操作-基础"><a href="#多文档操作-基础" class="headerlink" title="多文档操作 (基础)"></a>多文档操作 (基础)</h2><p>用 :ls! 可以显示出当前所有的buffer<br>:bn 跳转到下一个buffer<br>:bp 跳转到上一个buffer<br>:wn 存盘当前文件并跳转到下一个<br>:wp 存盘当前文件并跳转到上一个<br>:bd 把这个文件从buffer列表中做掉<br>:b 3 跳到第3个buffer<br>:b main 跳到一个名字中包含main的buffer</p><h2 id="列复制"><a href="#列复制" class="headerlink" title="列复制"></a>列复制</h2><p>译注：@#%&amp;^#*^%#$!<br>:%s&#x3D; [^ ]+$&#x3D;&amp;&amp;&#x3D; : 复制最后一列<br>:%s&#x3D; \f+$&#x3D;&amp;&amp;&#x3D; : 一样的功能<br>:%s&#x3D; \S+$&#x3D;&amp;&amp; : ft,还是一样反向引用，或称记忆<br>:s&#x2F;(.*):(.*)&#x2F;\2 : \1&#x2F; : 颠倒用:分割的两个字段<br>:%s&#x2F;^(.*)\n\1&#x2F;\1$&#x2F; : 删除重复行<br>非贪婪匹配，{-}<br>:%s&#x2F;^.{-}pdf&#x2F;new.pdf&#x2F; : 只是删除第一个pdf 跨越可能的多行<br>:%s&#x2F;&#x2F;&#x2F; : 又是删除多行注释（咦？为什么要说「又」呢？）<br>:help &#x2F;{-} : 看看关于 非贪婪数量符 的帮助<br>:s&#x2F;fred&#x2F;<c-r>a&#x2F;g : 替换fred成register a中的内容，呵呵，<br>写在一行里的复杂命令 :%s&#x2F;\f+.gif&gt;&#x2F;\r&amp;\r&#x2F;g | v&#x2F;.gif$&#x2F;d | %s&#x2F;gif&#x2F;jpg&#x2F; 译注：就是用 | 管道啦</c-r></p><h2 id="文件浏览"><a href="#文件浏览" class="headerlink" title="文件浏览"></a>文件浏览</h2><p>:Ex : 开启目录浏览器，注意首字母E是大写的<br>:Sex : 在一个分割的窗口中开启目录浏览器<br>:ls : 显示当前buffer的情况<br>:cd .. : 进入父目录<br>:pwd<br>:args : 显示目前打开的文件<br>:lcd %:p:h : 更改到当前文件所在的目录<br>译释：lcd是仅仅改变当前窗口的工作路径，% 是代表当前文件的文件名，加上 :p扩展成全名（就是带了路径），加上 :h析取出路径</p><h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><p>:tabe [file] 在新选项卡中编辑文件<br>:tabf [file] 如果在新选项卡中存在则打开<br>:tabc 关闭当前标签<br>:tabo 关闭其他标签<br>:tabs 列出所有标签<br>:tabr 转到第一个选项卡<br>:tabl 转到最后一个选项卡<br>:tabm 0 移动到位置 0<br>:tabn 前往下一个标签<br>:tabp 前往上一个标签</p><h2 id="other"><a href="#other" class="headerlink" title="other"></a>other</h2><p>:w 节省<br>:q 关闭文件<br>:wq | :x | ZZ 保存并退出<br>:wqa 保存并退出所有文件<br>:q! | ZQ 强制退出<br>:qa 关闭所有文件<br>:qa! 强制退出所有文件<br>:w new.txt 写给 new.txt<br>:sav new.txt 保存和编辑 new.txt<br>:w !sudo tee % 写入只读文件</p><h2 id="全局命令"><a href="#全局命令" class="headerlink" title="全局命令"></a>全局命令</h2><p>:[range]g&#x2F;{pattern}&#x2F;[command]<br>:g&#x2F;foo&#x2F;d 删除包含的行 foo<br>:g!&#x2F;foo&#x2F;d 删除不包含的行 foo<br>:g&#x2F;^\s*$&#x2F;d 删除所有空行<br>:g&#x2F;foo&#x2F;t$ 复制包含foo到 EOF 的行<br>:g&#x2F;foo&#x2F;m$ 移动包含foo到 EOF 的行<br>:g&#x2F;^&#x2F;m0 反转文件<br>:g&#x2F;^&#x2F;t. 复制每一行<br>Inverse :g<br>:[range]v&#x2F;{pattern}&#x2F;[command]<br>:v&#x2F;foo&#x2F;d 删除不包含foo<br>（也:g!&#x2F;foo&#x2F;d）的行<br>Flags<br>g 替换所有出现<br>i 忽略大小写<br>I 不要忽略大小写<br>c 确认每次替换<br>替换表达式（魔术）<br>&amp; | \0 替换为整个匹配<br>\1…\9 替换为 0-9 组<br>\u 大写下一个字母<br>\U 大写以下字符<br>\l 小写下一个字母<br>\L 小写以下字符<br>\e 结束\u, \U,\l和\L<br>\E 结束\u, \U,\l和\L<br>例子<br>:s&#x2F;a|b&#x2F;xxx\0xxx&#x2F;g # Modifies “a b” to “xxxaxxx xxxbxxx”<br>:s&#x2F;test&#x2F;\U&amp; file&#x2F; # Modifies “test” to “TEST FILE”<br>:s&#x2F;(test)&#x2F;\U\1\e file&#x2F; # Modifies “test” to “TEST file”<br>:s&#x2F;\v([abc])([efg])&#x2F;\2\1&#x2F;g # Modifies “af fa bg” to “fa fa gb”<br>:s&#x2F;\v\w+&#x2F;\u\0&#x2F;g # Modifies “bla bla” to “Bla Bla”<br>:s&#x2F;\v([ab])|([cd])&#x2F;\1x&#x2F;g # Modifies “a b c d” to “ax bx x x”<br>:%s&#x2F;.*&#x2F;\L&amp;&#x2F; # Modifies “HTML” to “html”<br>:s&#x2F;\v&lt;(.)(\w*)&#x2F;\u\1\L\2&#x2F;g # Make every first letter of a word uppercase<br>:%s&#x2F;^(.*)\n\1&#x2F;\1&#x2F; # Remove duplicate lines<br>:%s&#x2F;&lt;/=(\w+)&gt;&#x2F;\U&amp;&#x2F;g # Convert HTML-Tags to uppercase<br>:g&#x2F;^pattern&#x2F;s&#x2F;$&#x2F;mytext # Find and append text to the end<br>:g&#x2F;pattern&#x2F;norm! @i # Run a macro on matching lines<br>&#x2F;^(.<em>)(\r?\n\1)+$ # View the duplicates lines<br>&#x2F;\v^(.</em>)(\r?\n\1)+$ # View the duplicates lines (very magic)<br>:v&#x2F;.&#x2F;,&#x2F;.&#x2F;-j # Compress blank lines into a blank line<br>:g&#x2F;<p1>&#x2F;,&#x2F;<p2>&#x2F;d # Delete inclusively from<p1>to<p2></p2></p1></p2></p1></p><p>删除重复行<br>:sort | %!uniq -u<br>对文件中的行进行编号</p><p>:%!cat -n<br>将整个文档复制到剪贴板<br>:%w !pbcopy # Mac OS X<br>:%w !xclip -i -sel c # GNU&#x2F;Linux<br>:%w !xsel -i -b # GNU&#x2F;Linux</p><p>shell<br>:!<shell>解释 Shell 命令<br>:r!<shell>读入 shell 的输出<br>:r!date 插入日期<br>:!!date 用日期替换当前行</shell></shell></p><h2 id="缓冲器"><a href="#缓冲器" class="headerlink" title="缓冲器"></a>缓冲器</h2><p>:e file 在新缓冲区中编辑文件<br>:bn 转到下一个缓冲区<br>:bp 转到上一个缓冲区<br>:bd 从缓冲区列表中删除文件<br>:b 5 打开缓冲区 #5<br>:b file 按文件转到缓冲区<br>:ls 列出所有打开的缓冲区<br>:sp file 打开和拆分窗口<br>:vs file 打开和垂直拆分窗口<br>:hid 隐藏此缓冲区<br>:wn 写入文件并移至下一个<br>:tab ba 将所有缓冲区编辑为选项卡</p><h2 id="其他命令行"><a href="#其他命令行" class="headerlink" title="其他命令行"></a>其他命令行</h2><p>:h 帮助 打开帮助视图<br>:edit! 重新加载当前文件<br>:2,8m0 移动线2-8到0<br>:noh 清除搜索亮点<br>:sort 排序线<br>:ter 打开终端窗口<br>:set paste 启用插入粘贴子模式<br>:set nopaste 禁用插入粘贴子模式<br>:cq 出现错误退出<br>（中止 Git）</p><h2 id="标签-1"><a href="#标签-1" class="headerlink" title="标签"></a>标签</h2><p>:tag Classname 跳转到 Classname 的第一个定义</p><p>:tselect Classname 查找 Classname 的定义<br>:tjump Classname 查找类名的定义（自动选择第一个）</p><h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h2><p>:ce 8 8列之间的中心线<br>:ri 4 在4列处右对齐行<br>:le 左对齐线<br>看 :help formatting</p><p>:marks 列出所有当前标记<br>:delm a 删除标记 a<br>:delm a-d 删除标记a, b, c,d<br>:delm abc 删除标记a, b,c</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Janvy Sun</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://janvysun.github.io/vim/b2586e45-8342-4adb-b200-b4cee50b7590.html">https://janvysun.github.io/vim/b2586e45-8342-4adb-b200-b4cee50b7590.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://janvysun.github.io" target="_blank">Janvy's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vim/">Vim</a></div><div class="post_share"><div class="social-share" data-image="/images/hexo.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/cpp/d2d9e9eb-c5ac-4cb5-ae71-148b075b3c9e.html"><img class="prev-cover" src="/images/hexo.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">C++ 函数指针</div></div></a></div><div class="next-post pull-right"><a href="/vim/973608e6-cd34-4c24-9808-8e92126a4052.html"><img class="next-cover" src="/images/hexo.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Vim 插入及可视模式</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/vim/8fd24e8f-3fdd-44ff-a15d-63af80042e95.html" title="Vim 配置"><img class="cover" src="/images/hexo.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-03-26</div><div class="title">Vim 配置</div></div></a></div><div><a href="/vim/94767f55-f93e-431b-b35f-0fa56b7a4904.html" title="Vim 使用"><img class="cover" src="/images/hexo.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-03-30</div><div class="title">Vim 使用</div></div></a></div><div><a href="/vim/98553771-e8cd-4ead-b7dd-ef0fba787b92.html" title="Vim 光标跳转"><img class="cover" src="/images/hexo.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-30</div><div class="title">Vim 光标跳转</div></div></a></div><div><a href="/vim/973608e6-cd34-4c24-9808-8e92126a4052.html" title="Vim 插入及可视模式"><img class="cover" src="/images/hexo.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-22</div><div class="title">Vim 插入及可视模式</div></div></a></div><div><a href="/vim/efe444c9-482d-4eeb-bdbc-769dc7a00c08.html" title="Vim 普通模式"><img class="cover" src="/images/hexo.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-21</div><div class="title">Vim 普通模式</div></div></a></div><div><a href="/vim/bd67aa1b-daa3-42a5-af85-d4708888f088.html" title="Vim 自用配置"><img class="cover" src="/images/hexo.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-24</div><div class="title">Vim 自用配置</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Janvy Sun</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">154</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">47</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/janvysun" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:janvusun@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%96%87%E6%A1%A3%E6%93%8D%E4%BD%9C-%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">多文档操作 (基础)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E5%A4%8D%E5%88%B6"><span class="toc-number">2.</span> <span class="toc-text">列复制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%8F%E8%A7%88"><span class="toc-number">3.</span> <span class="toc-text">文件浏览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE"><span class="toc-number">4.</span> <span class="toc-text">标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#other"><span class="toc-number">5.</span> <span class="toc-text">other</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%91%BD%E4%BB%A4"><span class="toc-number">6.</span> <span class="toc-text">全局命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E5%99%A8"><span class="toc-number">7.</span> <span class="toc-text">缓冲器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="toc-number">8.</span> <span class="toc-text">其他命令行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE-1"><span class="toc-number">9.</span> <span class="toc-text">标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">10.</span> <span class="toc-text">格式化</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/lyrics/1f1e25e2-0756-4881-9cc2-b146d03c0ae6.html" title="世界が終るまでは…"><img src="/images/hexo.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="世界が終るまでは…"></a><div class="content"><a class="title" href="/lyrics/1f1e25e2-0756-4881-9cc2-b146d03c0ae6.html" title="世界が終るまでは…">世界が終るまでは…</a><time datetime="2024-04-20T16:00:00.000Z" title="发表于 2024-04-21 00:00:00">2024-04-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/games/bdac0118-3bf7-43f9-9856-142e616b1ca4.html" title="我的世界攻略"><img src="/images/hexo.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="我的世界攻略"></a><div class="content"><a class="title" href="/games/bdac0118-3bf7-43f9-9856-142e616b1ca4.html" title="我的世界攻略">我的世界攻略</a><time datetime="2024-03-31T16:00:00.000Z" title="发表于 2024-04-01 00:00:00">2024-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/elk/3d7c2057-e448-4b83-a185-8d98e973490e.html" title="Nginx 的安装与使用"><img src="/images/hexo.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Nginx 的安装与使用"></a><div class="content"><a class="title" href="/elk/3d7c2057-e448-4b83-a185-8d98e973490e.html" title="Nginx 的安装与使用">Nginx 的安装与使用</a><time datetime="2024-03-10T16:00:00.000Z" title="发表于 2024-03-11 00:00:00">2024-03-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/games/967c02f7-0d5e-4dd8-a2e0-70c97840fc5d.html" title="真三国无双 7 攻略"><img src="/images/hexo.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="真三国无双 7 攻略"></a><div class="content"><a class="title" href="/games/967c02f7-0d5e-4dd8-a2e0-70c97840fc5d.html" title="真三国无双 7 攻略">真三国无双 7 攻略</a><time datetime="2024-02-29T16:00:00.000Z" title="发表于 2024-03-01 00:00:00">2024-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/docker/4c765195-289e-4cc4-88fb-12d9bb5fed61.html" title="Docker Compose 使用"><img src="/images/hexo.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Docker Compose 使用"></a><div class="content"><a class="title" href="/docker/4c765195-289e-4cc4-88fb-12d9bb5fed61.html" title="Docker Compose 使用">Docker Compose 使用</a><time datetime="2023-12-31T16:00:00.000Z" title="发表于 2024-01-01 00:00:00">2024-01-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2024 By Janvy Sun</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>